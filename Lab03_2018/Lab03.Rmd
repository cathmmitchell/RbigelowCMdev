---
title: "Lab 3: Visualizing oceanographic sections"
output: html_notebook
---

This lab focuses on visualizing oceanographic sections. The tools you are introduced to here can be used to graph and analyze data in your labs, your independent research projects and the cruise data gathered throughout the semester. Be sure to save any scripts that you develop so you can continue to use them.

# 1. Importing and wrangling data

This week, we are going to start with the data from the csv files we created last week. However, before we can plot the oceanographic sections, we need to wrangle the data into an easier form to work with. A lot of your time coding can be spent wrangling data, but it is definitely worth spending the time to get your data into a format that is easy to use, manipulate, plot and analyze. 

Let's start by importing the data as before.

```{r}
# read in the whole csv file
DATA <- read.csv('Colby_cruise_data_2012-2017.csv', header = TRUE)
```

## 1.1 Coding technique: for-loops

When you want to repeat the same bit of code multiple times, a for-loop can be your friend. For example, if you would like to plot a section for each cruise, rather than type out the code for each cruise individually, we can just write it once and iterate or *loop* over the code. 

Let's start with a simple example:

#### Example: print the statement "hello" four times
```{r}
for (ii in 1:4) {
  print("hello")
}
```

#### Example: print the statement "hello" four times, including the number at the start of the statement e.g. "1 hello"
```{r}
for (ii in 1:4) {
  print(paste(ii,"hello"))
}
```

## 1.2 Wrangling data

For reasons which will become apparent later, we are going to group our data by cruise. To do this we are going to take the following steps:

1. loop through each cruise (using the dates to identify different cruises)
2. extract the data for the required cruise from the main `DATA` list 
3. create a unique cruise name for the required cruise of the form: colbyYYYYMMDD, where YYYYMMDD is the date in year, month, day
4. add the cruise data to a master list, labelling it with the unique cruise id.

```{r}
#making a list of the dates of each cruise
dates <- unique(DATA[['Date']])

#creating an empty list which we will fill with more lists in a for-loop
cruiseList <- list()

#loop to extract each cruise from the main DATA list and to group the individual cruise lists into one master list: cruiseList
for (dd in dates){
  #extracting a specific cruise into a list from the main DATA list
  cruiseData <- DATA[DATA[['Date']] == dd,]
  
  #making a unique cruise id
  id <- paste("colby",dd,sep="")
  
  #adding the cruiseData list to the master cruiseList, naming it with the unique id
  cruiseList[[id]] <- cruiseData
}
```

# 2. Plotting oceanographic section




#### Example: plot a section for each cruise
*This is what Nick had last time. Probably needs changed here because we are reading the data in differently*

```{r}
for (i in 1:4) {
#do something here
}
```


# 4. Assignments/tasks



*Other possible subsection: Line graphs for different stations (instead of bar charts)??*

# 4 Categorical data (t-tests, bar charts, box plots, other stats?)

## 4.1 t-tests
*a bit of a contrived example...*

1.	use discrete data and determine the mean chl conc for each station and depth
2.	use t-test to answer: is the surface chl conc different at station 1 compared to station 2

## 4.2 Bar charts

Bar charts for categorical data e.g. three different treatments and the photosynthetic rate at each treatment

## 4.3 Box plots
Box plots for categorical data where you have multiple measurements at each treatment so can do a mean, stdev, etc.






